function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _get=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,r,n)}if("value"in i)return i.value;var s=i.get;if(void 0!==s)return s.call(n)},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("warmupUtils/core/ajaxLibrary",["lodash"],function(e){"use strict";var t=function(){throw"must register ajax function: zepto $.ajax for clientSide, or request() for serverSide"};return{register:function(e){if("function"!=typeof e)throw"ajaxMethod must be a function";t=e},ajax:function(r){return r.asForm?r.contentType="application/x-www-form-urlencoded":"POST"===r.type&&"json"===r.dataType&&e.isObject(r.data)&&!r.asForm&&e.assign(r,{data:JSON.stringify(r.data),contentType:r.contentType||"application/json; charset=utf-8",processData:!1}),t(r)},get:function(e,r,n,i){if("object"===(void 0===e?"undefined":_typeof(e)))return t(e);var a={url:e};return r&&(a.data=r),n&&(a.success=n),i&&(a.dataType=i),t(a)}}}),define("warmupUtils/core/SiteDataPrivates",["lodash"],function(e){"use strict";function t(){this.name="_privates_"+r,r++}if("undefined"!=typeof WeakMap)return WeakMap;var r=0;return t.prototype.set=function(e,t){e[this.name]=t},t.prototype.get=function(e){return e[this.name]},t.prototype.delete=function(e){delete e[this.name]},t.prototype.has=function(t){return e.has(t,this.name)},t}),define("warmupUtils/core/pathValidationUtil",["lodash","warmupUtils/core/SiteDataPrivates"],function(e,t){"use strict";function r(t,r,i){if(!r||!e.isArray(r))return!1;var a=r[r.length-1],s=n(t,r,i?r.length:r.length-1);return!e.isUndefined(s)&&(!!i||function(t,r){if(e.isArray(r))return/^\d+$/.test(t);if(function(e){return"[object Object]"===Object.prototype.toString.call(e)}(r))return e.isString(t);return!1}(a,s))}function n(t,r,n){var a=e.take(r,n);if(r&&"pagesData"===r[0]&&!e.isEmpty(t.pagesDataRaw))return 0===a.length?t.pagesDataRaw:e.get(t.pagesDataRaw,a);var s=i.get(t);return e.get(s,"mobxDataHandlers.getObservableByPath")?s.mobxDataHandlers.getObservableByPath(t,a):function(t,r,n){for(var i=t,a=0;a<r&&(i=i[n[a]],!e.isUndefined(i));a++);return i}(t,n,r)}var i=new t;return{setMobxDataHandlers:function(t,r){var n=i.get(t);i.set(t,e.assign(n,{mobxDataHandlers:r}))},validatePath:function(t,n,i){if(!e.isArray(t))throw new Error("path type is not an array - "+t);if(!r(n,t,i))throw new Error("path does not exist - "+t);return!0},validatePathExist:r,validatePathExistsAndCorrect:function(t,r,i){if(!r)return!1;var a=n(t,r,r.length);return!e.isUndefined(a)&&(!i||i(a))}}}),define("warmupUtils/dal/DisplayedJsonDal",["lodash","coreUtilsLib","warmupUtils/core/pathValidationUtil"],function(e,t,r){"use strict";function n(t,r){if(e.isUndefined(r))r=t.length;else{if(r>t.length||r<0)throw new Error("Index out of bound");if(!e.isNumber(r))throw new Error("index arguments should be a number")}return r}function i(e,t,n){return r.validatePathExist(e,t,n)}var a=t.objectUtils.cloneDeep,s=function(){function t(e,r){_classCallCheck(this,t),this.pointersCache=r,this.jsonData=e,this.jsonData.pagesDataRaw={}}return _createClass(t,[{key:"get",value:function(e,t,r){var n=this.pointersCache.getPath(e);return this.getByPath(n,t,r)}},{key:"getByPath",value:function(t){if(t)return a(e.get(this.jsonData,t))}},{key:"set",value:function(e,t){var r=this.pointersCache.getPath(e,!0);this.setByPath(r,t)}},{key:"setByPath",value:function(t,r){if(!e.isArray(t))throw new Error("path type is not an array - "+t);e.set(this.jsonData,t,a(r)),this.pointersCache.resetValidations()}},{key:"isExist",value:function(e){return!!this.pointersCache.getPath(e)}},{key:"isPathExist",value:function(e){return i(this.jsonData,e,!0)}},{key:"merge",value:function(e,t){if(this.isExist(e)){var r=this.pointersCache.getPath(e);this.mergeByPath(r,t)}}},{key:"mergeByPath",value:function(t,r){if(!e.isPlainObject(r))throw new Error(r+" is not an object");i(this.jsonData,t,!0)&&(function(t,r){var n=this.getByPath(t),i=e.assign({},n,r);this.setByPath(t,i)}.call(this,t,r),this.pointersCache.resetValidations())}},{key:"push",value:function(e,t,r,n){if(!this.isExist(e))throw new Error(JSON.stringify(e)+" path does not exist");var i=this.pointersCache.getPath(e);if(this.pushByPath(i,t,n),r){var a=i.concat(n);this.pointersCache.setPath(r,a)}}},{key:"pushByPath",value:function(e,t,r){var i=this.getByPath(e);r=n(i,r),function(e,t,r,n){0===e?t.unshift(r):t.splice(e,0,r),this.setByPath(n,t)}.call(this,r,i,t,e),this.pointersCache.resetValidations()}},{key:"remove",value:function(e){var t=this.pointersCache.getPath(e);if(!t)throw new Error(e+" pointer does not exist");this.removeByPath(t)}},{key:"removeByPath",value:function(t){if(!t)throw new Error("path is not valid");!function(t,r){var n=[].concat(r),i=n.pop(),a=e.get(t,n,t);e.isArray(a)?a.splice(i,1):delete a[i]}(this.jsonData,t),this.pointersCache.resetValidations()}},{key:"getKeys",value:function(e,t){var r=this.pointersCache.getPath(e);if(r)return this.getKeysByPath(r,t)}},{key:"getKeysByPath",value:function(t){return r.validatePath(t,this.jsonData),function(t,r){var n=e.get(t,r);if(!e.isPlainObject(n))throw new Error("Can not get keys of an element that isn't a plain object");return e.keys(n)}(this.jsonData,t)}},{key:"getStructureProperty",value:function(t){var r=this.pointersCache.getPath(t,!0);return e.has(this.jsonData.pagesDataRaw,r)||e.get(this.jsonData,e.slice(r,0,3),{}).isStructureNode||this.setByPath(r,void 0),this.getByPath(r)}}]),t}(),o=function(t){function a(e,t,r){_classCallCheck(this,a);var n=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.mobxDataHandlers=r,n}return _inherits(a,s),_createClass(a,[{key:"getByPath",value:function(e,t,r){if(e)return this.mobxDataHandlers.getByPath(this.jsonData,e,!!t,!!r)}},{key:"setByPath",value:function(t,r){if(!e.isArray(t))throw new Error("path type is not an array - "+t);this.mobxDataHandlers.setByPath(this.jsonData,t,r),this.pointersCache.resetValidations()}},{key:"isPathExist",value:function(e){return this.mobxDataHandlers.getObservableByPath(this.jsonData,e),_get(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"isPathExist",this).call(this,e)}},{key:"mergeByPath",value:function(t,r){if(!e.isPlainObject(r))throw new Error(r+" is not an object");i(this.jsonData,t,!0)&&(this.mobxDataHandlers.mergeByPath(this.jsonData,t,r),this.pointersCache.resetValidations())}},{key:"pushByPath",value:function(e,t,r){var i=this.mobxDataHandlers.getObservableByPath(this.jsonData,e);r=n(i,r),this.mobxDataHandlers.pushByPath(this.jsonData,r,i,t,e),this.pointersCache.resetValidations()}},{key:"removeByPath",value:function(e){if(!e)throw new Error("path is not valid");this.mobxDataHandlers.removeByPath(this.jsonData,e),this.pointersCache.resetValidations()}},{key:"getKeysByPath",value:function(e,t){return r.validatePath(e,this.jsonData),this.mobxDataHandlers.getKeysByPath(this.jsonData,e,t)}}]),a}();return function(e,t,r){return r?new o(e,t,r):new s(e,t)}}),define("warmupUtils/core/displayedOnlyStructureUtil",["lodash"],function(e){"use strict";function t(e,t){return e+s+t}function r(n,i,a){var s=e.cloneDeep(e.omit(n,["components"]));a=a||e.noop;var u=n.components,l=e.map(u,function(e){return r(e,i,a)}),c=t(s.id,i),g=e.reduce(o,function(e,r){return s[r]&&(e[r]=t(s[r],i)),e},{id:c});return function(e,r,n){var i=e.id;n(i,t(i,r))}(s,i,a),e.defaults(g,u&&{components:l},s)}function n(t){var r=t.components,i=e.map(r,function(e){return n(e)}),s=e.reduce(o,function(e,r){return t[r]&&(e[r]=a(t[r])),e},{});return t.id&&(s.id=a(t.id)),e.defaults(s,r&&{components:i},t)}function i(e){if(e)return e.split(s)[1]}function a(e){if(e)return e.split(s)[0]}var s="__",o=["dataQuery","designQuery"];return{getUniqueStructure:r,getOriginalStructure:n,isDisplayedComponent:function(e){return!!i(e)},getItemId:i,getUniqueDisplayedId:t,getOriginalId:a}}),define("warmupUtils/core/SessionFreezer",["lodash"],function(e){"use strict";var t=[];return{freeze:function(e){t.push(e)},start:function(){e.forEach(t,Object.freeze)}}}),define("warmupUtils/pointers/pointerGeneratorsRegistry",["warmupUtils/core/SessionFreezer"],function(e){"use strict";var t={},r={},n={},i={};return e.freeze(t),e.freeze(r),e.freeze(n),e.freeze(i),{registerDataAccessPointersGenerator:function(e,i,a){a?r[e]=i:t[e]=i,n[e]=i},registerPointerType:function(e,t,r,n,a,s){i[e]={findItemFunction:t,identityCheckFunction:r,isUsingDifferentNameSpaceForFull:n,isExistInFullJson:a,supportDisplayedOnlySplit:s}},getRegularJsonGenerators:function(){return t},getBothRegularAndFullJsonGenerators:function(){return r},getAllTypes:function(){return i}}}),define("warmupUtils/core/multilingual",["lodash","coreUtilsLib"],function(e,t){"use strict";var r=t.urlUtils,n=function(e,t){return function(r){var n=r.dal,i=r.pointers;return n.get(i.multilingual[e]())||t}},i={PointerOperation:{GET:"get",SET:"set"},init:function(t,n){var a=n.siteData,s=t.dal,o=t.pointers,u=r.parseUrl(a.currentUrl.full),l=u.query.lang,c=i.getOriginalLanguage(t),g=i.getTranslationLanguages(t).concat(c);u.query.lang&&e.find(g,{languageCode:l})?s.set(o.multilingual.currentLanguageCode(),l):s.isExist(o.multilingual.originalLanguage())&&s.set(o.multilingual.currentLanguageCode(),c.languageCode)},EMPTY_TRANSLATION_DATA:{data:{document_data:{}}},setCurrentLanguage:function(e){return function(t){var n=e.dal,i=e.pointers,a=e.siteDataAPI,s=a.siteData;if(n.set(i.multilingual.currentLanguageCode(),t),!s.isInSSR()&&!window.isMockWindow){window.document.querySelector("html").setAttribute("lang",t)}var o=s.currentUrl.full,u=r.setUrlParams(o,{lang:t});r.updateUrl(u),a.createDisplayedPages()}},getCurrentLanguageCode:n("currentLanguageCode",null),getOriginalLanguage:n("originalLanguage",{}),getTranslationLanguages:n("translationLanguages",[]),getTranslationPath:function(t,r,n){var i=t.currentLanguageCode;return t.originalLanguageCode===i||e.isNull(i)?r:e.concat(e.take(r,n),"translations",i,e.drop(r,n))},generatePageTranslationsData:function(t){var r=t.dal,n=t.pointers;return e.reduce(i.getTranslationLanguages({dal:r,pointers:n}),function(t,r){return t[r.languageCode]=e.cloneDeep(i.EMPTY_TRANSLATION_DATA),t},{})}};return i}),define("warmupUtils/pointers/pointersCache",["lodash","warmupUtils/core/pathValidationUtil","warmupUtils/core/displayedOnlyStructureUtil","warmupUtils/pointers/pointerGeneratorsRegistry","warmupUtils/core/multilingual","experiment"],function(e,t,r,n,i,a){"use strict";function s(t,r){var n=t;return e.forEach(r,function(t){if(e.isUndefined(n))return!1;n=n[t]}),n}function o(t,r,i,o){this.initMyState(),this.json=r,this.fullJson=i,this.siteData=t;var u=e.get(o,"getItemInPath",s);this.getItemInPath=u.bind(null,r),this.fullJsonGetItemInPath=u.bind(null,i),this.validated={},this.pointersMap={},this.hasMultilingualExperiment=a.isOpen("sv_multilingual",this.siteData);var l=n.getAllTypes();e.forOwn(l,function(e,t){this.cache[t]={},this.itemFinders[t]=e.findItemFunction,this.identityCheckers[t]=e.identityCheckFunction,this.identityCheckersCache[t]={},e.isUsingDifferentNameSpaceForFull&&(this.fullJsonCache[t]={}),e.isExistInFullJson&&(this.typesExistingInFullJson[t]=!0),this.supportDisplayedOnlySplit[t]=e.supportDisplayedOnlySplit}.bind(this))}function u(e,t){var r=t?"|":",";return e.id+r+e.type}function l(r,n,s){var o=r&&this.fullJsonCache.hasOwnProperty(n.type),l=o?this.fullJsonCache:this.cache,d=r&&this.typesExistingInFullJson.hasOwnProperty(n.type),f=d?this.fullJson:this.json,m=d?this.fullJsonGetItemInPath:this.getItemInPath,h=l[n.type];if(!h)return null;var P=h[n.id],v=s&&e.isEmpty(n.innerPath),y=u(n,o),I=function(e,r,n,i,a){var s=this.validated[e]||c;if(i)return s||(t.validatePathExist(a,n,!1)?g:c);if(s!==p){var o=r.id,u=this.identityCheckersCache[r.type],l=u[o];l||(l=this.identityCheckers[r.type].bind(this,o),u[o]=l),s=t.validatePathExistsAndCorrect(a,n,l)?p:c}return s}.call(this,y,n,P,v,f,o);if(I===c&&(I=(P=v?null:function(e,t,r,n){var i=null,s=this.itemFinders[e.type];return s&&(i=s(this.siteData.getAllPossiblyRenderedRoots(),n,e,a.isOpen("sv_componentPointersFindComponentInOtherPages",this.siteData)),t[e.id]=i||r),i}.call(this,n,h,P,m))?p:this.validated[y]||c),this.validated[y]=I,P&&n.innerPath&&(P=P.concat(n.innerPath),!t.validatePathExist(f,P,!s)))return null;if(this.hasMultilingualExperiment&&e.has(n,"multilingual")&&e.includes(P,"pagesData")){var U=this.siteData.rendererModel.multilingualInfo,w=this.siteData.multilingual,S=i.getTranslationPath({currentLanguageCode:e.get(w,"currentLanguageCode",null),originalLanguageCode:e.get(U,"originalLanguage.languageCode",null)},P,e.indexOf(P,"data")),D=n.multilingual===i.PointerOperation.GET;if(t.validatePathExist(f,P,!0)&&t.validatePathExist(f,S,D))return S}return P}var c=0,g=1,p=2;return o.prototype={initMyState:function(){this.cache={general:{}},this.fullJsonCache={},this.itemFinders={general:function(){return null}},this.identityCheckers={general:function(){return!0}},this.identityCheckersCache={},this.typesExistingInFullJson={},this.supportDisplayedOnlySplit={}},getBoundCacheInstance:function(e){return{getAllPointers:this.getAllPointers.bind(this),registerDisplayedOnlyComponent:this.registerDisplayedOnlyComponent.bind(this),clearDisplayedOnlyComponents:this.clearDisplayedOnlyComponents.bind(this),getPath:this.getPath.bind(this,e),getPointer:this.getPointer.bind(this,e),setPath:this.setPath.bind(this,e),resolveId:this.resolveId.bind(this,e),resetValidations:this.resetValidations.bind(this)}},setPath:function(e,t,r){r&&(e?this.fullJsonCache[t.type][this.resolveId(e,t.id,t.type)]=r:this.cache[t.type][this.resolveId(e,t.id,t.type)]=r)},getPath:function(t,r,n){if(!r)return null;var i={type:r.type,id:this.resolveId(t,r.id,r.type)};return r.hasOwnProperty("innerPath")&&(i.innerPath=r.innerPath),this.hasMultilingualExperiment&&e.has(r,"multilingual")&&(i.multilingual=r.multilingual),l.call(this,t,i,!!n)},getPointer:function(e,t,r,n){var i=e&&this.fullJsonCache[r],a=i?this.fullJsonCache[r]:this.cache[r],s={type:r,id:t};return n&&(function(e,t){if(!e)return!t;if(!t||t.length!==e.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}(a[t],n)||(this.validated[u(s,i)]=c,a[t]=n)),a[t]?s:null},getAllPointers:function(t){var r=this,n=this.resolveId(!0,t.id,t.type),i=e.get(this.pointersMap,n);if(!i)return[t];var a=e(i).map(function(e){return{id:e,path:r.getPath(!1,{type:t.type,id:e},!1)}}).filter("path").map(function(e){var n=r.getPointer(!1,e.id,t.type,e.path);return t.innerPath&&t.innerPath.length&&(n.innerPath=t.innerPath),n}).value();return n===t.id&&e.isEmpty(a)?(delete this.pointersMap[n],[t]):a},registerDisplayedOnlyComponent:function(t,r){var n=e.get(this.pointersMap,t,{});n[r]=r,this.pointersMap[t]=n},clearDisplayedOnlyComponents:function(e){delete this.pointersMap[e]},resolveId:function(e,t,n){return e&&this.supportDisplayedOnlySplit[n]&&r.getOriginalId(t)||t},resetValidations:function(){this.validated={}}},o}),define("warmupUtils/pointers/DataAccessPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";function r(r){this.full={};var n=r.getBoundCacheInstance(!1),i=r.getBoundCacheInstance(!0);!function(r,n,i){var a=t.getRegularJsonGenerators();e.forEach(a,function(t,a){r[a]=e.mapValues(t,function(e){return e.bind(t,n.getItemInPath,i)})})}(this,r,n),function(r,n){var i=t.getBothRegularAndFullJsonGenerators();e.forEach(i,function(t,i){r[i]=e.mapValues(t,function(e){return n(e,!1,t)}),r.full[i]=e.mapValues(t,function(e){return n(e,!0,t)})})}(this,function(t,a,s){return function(){var o=e.toArray(arguments),u=[r.getItemInPath,n].concat(o),l=[r.fullJsonGetItemInPath,i].concat(o),c=t.apply(s,u),g=t.apply(s,l);return a?g:c}})}function n(e){e&&r.call(this,e)}function i(e){if(e)return{type:e.type,id:e.id}}return n.prototype={getGeneralTheme:function(){},getInnerPointer:function(t,r){var n=i(t);if(n){var a=e.isString(r)?r.split("."):r;n.innerPath=t.innerPath?t.innerPath.concat(a):a}return n},isSamePointer:function(e,t){return e&&t&&e.type===t.type&&e.id===t.id},getInnerPointerPathRoot:function(e){return e.innerPath?e.innerPath[0]:null},getOriginalPointerFromInner:i,getPointerType:function(t){switch(t.type){case"DESKTOP":case"MOBILE":return e.isEmpty(t.innerPath)?"component":"componentStructure";default:return t.type}}},n}),define("warmupUtils/dal/DALFactory",["lodash","warmupUtils/core/SiteDataPrivates","warmupUtils/dal/DisplayedJsonDal","warmupUtils/pointers/pointersCache","warmupUtils/pointers/DataAccessPointers"],function(e,t,r,n,i){"use strict";function a(t,r){var i=o.get(t);if(i&&i.pointersCache)return i.pointersCache;var a=s(t,r||e.pick(t,"pagesData")),u=new n(t,t,a,e.get(i,"mobxDataHandlers"));return o.set(t,e.assign(o.get(t),{pointersCache:u})),u}function s(t,r){var n=o.get(t);return n&&n.fullJson?n.fullJson:(o.set(t,e.assign(o.get(t),{fullJson:r})),r)}var o=new t;return{setMobxDataHandlers:function(t,r){var n=o.get(t);o.set(t,e.assign(n,{mobxDataHandlers:r}))},getInstance:function(t,n){var i=o.get(t);if(i&&i.displayedJsonDal)return i.displayedJsonDal;var s=a(t,n),u=r(t,s.getBoundCacheInstance(!1),e.get(i,"mobxDataHandlers"));return o.set(t,e.assign(o.get(t),{displayedJsonDal:u})),u},getCacheInstance:a,getPointersInstance:function(e,t){var r=a(e,t);return new i(r)},getFullPagesData:s}}),define("warmupUtils/dal/siteDataUtils",["lodash","warmupUtils/dal/DALFactory"],function(e,t){"use strict";function r(r,n,i){i=i||"general";var a=t.getInstance(r),s=["wixappsRenderCounters",n,i];a.isPathExist(s)||(!function(t,r){if(t.isPathExist(["wixappsRenderCounters"]))t.isPathExist(["wixappsRenderCounters",r])||t.setByPath(["wixappsRenderCounters",r],{});else{var n=e.set({},r,{});t.setByPath(["wixappsRenderCounters"],n)}}(a,n),a.setByPath(s,0));var o=a.getByPath(s);a.setByPath(s,o+1)}return{incrementWixappsRenderCounter:r,setRootNavigationInfo:function(e,r,n){var i=t.getInstance(e),a=["dynamicPages","routersRendererIndex"],s=r.pageId,o=e.isPopupPage(s),u={},l={};if(n&&(o||(u.primaryPage=null),u.popupPage=null),l[s]=r,e.isDynamicPage(s)){var c=i.getByPath(a);l[s].routersRendererIndex=r.pageAdditionalData+c,i.setByPath([a],c+1)}o?u.popupPage=r.pageId:(l[e.MASTER_PAGE_ID]=r,u.primaryPage=r.pageId),i.mergeByPath(["_currentRootInfos"],l),i.mergeByPath(["_currentPageIds"],u)},isMobileStructureExists:function(e){var r=t.getInstance(e),n=t.getPointersInstance(e);r.isPathExist(["resolvedDataMaps","masterPage"]);var i=n.page.getPagePointer("masterPage");return i&&r.isExist(n.getInnerPointer(i,["structure","mobileComponents"]))},getBrowserFlag:function(e,r){return t.getInstance(e).getByPath(["_browserFlags",r])},getSvgString:function(e,r){return t.getInstance(e).getByPath(["svgShapes",r,"content"])},getSvgInfo:function(e,r){return t.getInstance(e).getByPath(["svgShapes",r,"info"])},setSvgShapeStore:function(e,r,n){t.getInstance(e).setByPath(["svgShapes",r],n)},getMediaStore:function(e,r){return t.getInstance(e).getByPath(["mediaStore",r])},isEditingMode:function(e){return"editor"===t.getInstance(e).getByPath(["renderFlags","componentViewMode"])},isWixAdsAllowed:function(e){return t.getInstance(e).getByPath(["renderFlags","isWixAdsAllowed"])},isHeaderFixedPosition:function(e){var r=e.getViewMode(),n=t.getPointersInstance(e),i=n.components.getPage(e.MASTER_PAGE_ID,r),a=n.components.getComponent("SITE_HEADER",i),s=n.getInnerPointer(a,["layout","fixedPosition"]);return t.getInstance(e).get(s)},getMapFromPageUriSeoToPageId:function(e){return t.getInstance(e).getByPath(["mapFromPageUriSeoToPageId"])},getRequestModel:function(e,r,n){var i=t.getInstance(e);return r?i.getByPath(["requestModel",r],!1,n):i.getByPath(["requestModel"],!1,n)},getRendererModel:function(e,r,n){var i=t.getInstance(e);return r?i.getByPath(["rendererModel",r],!1,n):i.getByPath(["rendererModel"],!1,n)},setCustomUrlMapping:function(e,r,n){t.getInstance(e).setByPath(["customUrlMapping",r],n)},getAllPageIds:function(r){var n=t.getInstance(r),i=["pagesData","masterPage","data","document_data"],a=n.getKeysByPath(i);return e.filter(a,function(e){var t=n.getByPath(i.concat([e,"type"]));return"Page"===t||"AppPage"===t})},updateScreenSize:function(r,n){var i=t.getInstance(r),a=r.getScreenSize();e.isEqual(a,n)||i.mergeByPath(["screenSize"],n)},isPageLoaded:function(t,r){return e.invoke(t.resolvedDataMaps,"has",r)}}}),define("warmupUtils/core/scrollAnchorsUtils",["lodash","coreUtilsLib","warmupUtils/dal/siteDataUtils","experiment"],function(e,t,r,n){"use strict";function i(e){var t=parseInt(e,10);return isNaN(t)?0:t}function a(e){return i(e.height.WIX_ADStop)+i(e.top.WIX_ADStop)}function s(e){if(!e.measureMap)return 1/0;var t=e.measureMap,r=a(t),i=void 0;if(n.isOpen("displayWixAdsNewVersion",e))i=t.height.masterPage+r+e.renderFlags.extraSiteHeight;else{var s=t.height.WIX_ADSbottom||0;i=t.height.masterPage+s+r+e.renderFlags.extraSiteHeight}var o=t.height.screen;return Math.max(i-o,0)}function o(e,t){return Math.min(e,s(t))}function u(r,n,i){var a=i.getPageData(n,["structure"]),s=t.dataUtils.getAllCompsInStructure(a);return e.find(s,function(t){var a=t.connectionQuery,s=a&&i.getDataByQuery(a,n,i.dataTypes.CONNECTIONS);return s&&e.find(s.items,{role:r})})}function l(t,r){var n=r.getSiteData(),i=c(function(t,r){var n=void 0;if(!e.startsWith(t,"dataItem")&&r){var i=r.getSiteData(),a=u(t,i.getPrimaryPageId(),i);a&&(n=a.dataQuery)}return n||t}(t,r),n);return i.y=o(i.y,n),i}function c(t,n){var s=0;if(t===v.PAGE_ANCHORS.TOP_ANCHOR_ID)s=I;else if(t===v.PAGE_ANCHORS.BOTTOM_ANCHOR_ID)s=i(e.get(n.measureMap,["height","masterPage"]));else if(t){s=function(t,n){var i=0,s=n.measureMap;if(s&&t){var o=t.compId,u=r.isHeaderFixedPosition(n),l=s.top[o],c=s.absoluteTop[o],g=u?l:c,p=n.isMobileView()?a(s):0;i=e.isFinite(g)?g+p:0}return i}(n.getDataByQuery(t,n.getPrimaryPageId()),n)}return{x:0,y:s,anchorQuery:t}}function g(t,r,n){var i=t.getPageDataMap(r,t.dataTypes.DATA);if(!i)return[];var a=e.filter(i,{type:"Anchor"});a.push(p(t.getPrimaryPageId(),n));var s=t.getPageData(r,["structure","components"]);return e.sortBy(a,function(t){var r=function(t,r){var n=e.find(t,{id:r});return n&&n.layout}(s,t.compId);return r?r.y:y})}function p(e,t){return{compId:v.PAGE_ANCHORS.TOP_ANCHOR_COMP_ID,id:v.PAGE_ANCHORS.TOP_ANCHOR_ID,name:t||"",type:"Anchor",pageId:e}}function d(t,r){r=r||[];var n=g(t,t.getPrimaryPageId());if(!n.length)return n;var i=e.reject(n,function(t){return e.includes(r,t.compId)});return e.size(i)?i:[n[0]]}function f(t,r){return e(r).map(function(r){var n=c(r.id,t),i=r.id,a=r.compId;return e.assign(n,{id:i,compId:a})}).sortBy("y").value()}function m(e,t,r){return{activeAnchorComp:e,index:t,total:r}}function h(t,r){if(!t.measureMap)return[];return function(t,r){return e.map(t,function(e,n){var i=m(e,n,t.length);return i.isActive=e.y<=Math.ceil(r),i})}(f(t,d(t)),r)}function P(t,r,n){if(!t.measureMap)return null;var i=f(t,d(t,n)),a=function(t,r){if(e.every(t,{y:0}))return null;for(var n=null,i=0;i<t.length;i++){var a=t[i];if(!(r>=a.y))break;n=a}return n?m(n,i-1,t.length):null}(i,r);return a&&s(t)<=r?m(e.last(i),i.length-1,i.length):a}var v=t.siteConstants,y=-99999,I=0;return{getPageTopAnchor:p,calcAnchorScrollToPosition:l,getPageAnchors:g,getActiveAnchor:P,getAnchorsDataSortedByY:h,getAnchor:u,normalizeYOffset:o,isSpecialAnchor:function(e){return e===v.PAGE_ANCHORS.BOTTOM_ANCHOR_ID||e===v.PAGE_ANCHORS.TOP_ANCHOR_ID},getSortedAnchorsByY:f,SCROLL_PAGE_TOP_Y_POS:y}}),define("warmupUtils/pointers/aspectsPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";var r=["siteAspectsData"];t.registerPointerType("siteAspects",e.constant(null),e.constant(!0));var n={getAspectGlobalData:function(e,t,n){return t.getPointer(n+"_globalData","siteAspects",r.concat([n,"globalData"]))},getAspectAllComponentsData:function(e,t,n){return t.getPointer(n+"_allCompsData","siteAspects",r.concat([n,"dataByCompId"]))},getAspectComponentData:function(e,t,n,i){return t.getPointer(n+"_compData_"+i,"siteAspects",r.concat([n,"dataByCompId",i]))}};t.registerDataAccessPointersGenerator("siteAspects",n)}),define("warmupUtils/core/constants",["lodash"],function(e){"use strict";return{VIEW_MODES:{DESKTOP:"DESKTOP",MOBILE:"MOBILE"},DATA_TYPES:{data:"data",prop:"props",design:"design",theme:"style",behaviors:"behaviors",connections:"connections",mobileHints:"mobileHints"},COMP_DATA_QUERY_KEYS:{data:"dataQuery",props:"propertyQuery",design:"designQuery",behaviors:"behaviorQuery",connections:"connectionQuery",mobileHints:"mobileHintsQuery"},COMP_DATA_QUERY_KEYS_WITH_STYLE:e.assign({},{data:"dataQuery",props:"propertyQuery",design:"designQuery",behaviors:"behaviorQuery",connections:"connectionQuery",mobileHints:"mobileHintsQuery"},{style:"styleId"}),PAGE_DATA_DATA_TYPES:{props:"component_properties",data:"document_data",design:"design_data",behaviors:"behaviors_data",connections:"connections_data",style:"theme_data",mobileHints:"mobile_hints"},ACTION_TYPES:{CLICK:"click",DBL_CLICK:"dblClick",MOUSE_IN:"mouseenter",MOUSE_OUT:"mouseleave",CHANGE:"change",BLUR:"blur",FOCUS:"focus",IMAGE_CHANGED:"imageChanged",IMAGE_EXPANDED:"imageExpanded",ITEM_CLICKED:"itemClicked",CELL_SELECT:"cellSelect",CELL_EDIT:"cellEdit",ROW_SELECT:"rowSelect",FETCH_DATA:"fetchData",DATA_CHANGE:"dataChange",AUTOPLAY_OFF:"autoplayOff",AUTOPLAY_ON:"autoplayOn",KEY_PRESS:"keyPress",SCREEN_IN:"screenIn",VIEWPORT_ENTER:"viewportEnter",VIEWPORT_LEAVE:"viewportLeave",SCROLL:"scroll",VALIDATE:"validate",SET_CUSTOM_VALIDITY:"setCustomValidity",SYNC_VALIDATION_DATA:"syncValidationData",UPDATE_VALIDITY_INDICATION:"updateValidityIndication",MESSAGE:"message",UPLOAD_COMPLETE:"uploadComplete",ITEM_READY:"itemReady",ITEM_REMOVED:"itemRemoved"},BASE_PROPS_SCHEMA_TYPE:"DefaultProperties",COMP_IDS:{PAGE_GROUP:"SITE_PAGES",PAGES_CONTAINER:"PAGES_CONTAINER",HEADER:"SITE_HEADER",FOOTER:"SITE_FOOTER",BACKGROUND:"SITE_BACKGROUND",QUICK_ACTION_BAR:"QUICK_ACTION_BAR",WIX_ADS:"WIX_ADS",WINDOW:"WINDOW"},POPUP:{POPUP_OVERLAY_CONTAINER:{STYLE_ID:"strc1",SKINPART_ID:"popupOverlayContainer",COMPONENT_TYPE:"wysiwyg.viewer.components.StripContainer",SKIN:"wysiwyg.viewer.skins.stripContainer.DefaultStripContainer",TYPE:"StripContainer"},POPUP_CONTAINER:{COMPONENT_TYPE:"wysiwyg.viewer.components.PopupContainer"}},ACTIVE_ANCHOR:{DELAY_TO_END_SCROLL:50},CURRENT_CONTEXT:"CURRENT_CONTEXT",LAYOUT_MECHANISMS:{ANCHORS:"anchors",MESH:"mesh"},ANCHORS:{LOCK_THRESHOLD:70,LOCK_CONDITION:{ALWAYS:"always",NEVER:"never",THRESHOLD:"threshold"}},SUPPORTED_DYNAMIC_ACTIONS:{chat:{appId:"14517e1a-3ff0-af98-408e-2bd6953c36a2",icon:"55ef598f51c14f36ba4f0690cf28626f",color:"#2D41A9",text:"Chat",itemType:"chat"}},LANDING_PAGES_COMP_IDS:{PAGES_CONTAINER:"PAGES_CONTAINER",QUICK_ACTION_BAR:"QUICK_ACTION_BAR"},COMP_LAYOUT_OPTIONS:{REPEATER:{ALIGNMENTS:{LEFT:"left",RIGHT:"right",CENTER:"center",JUSTIFY:"justify"}},CHANGES_TYPES:{css:"css",attr:"attr",data:"data"}}}}),define("warmupUtils/pointers/jsonItemsFinders",["warmupUtils/core/constants"],function(e){"use strict";function t(t,r){return r===e.VIEW_MODES.MOBILE?t.mobileComponents?"mobileComponents":"components":t.children?"children":"components"}function r(e,t){return t.id===e||"masterPage"===e&&t.children}function n(e,i,a,s){if(r(i,e))return s;var o=t(e,a),u=e[o];if(!u)return null;for(var l=null,c=0;c<u.length&&!l;c++){l=n(u[c],i,a,s.concat([o,c]))}return l}return{getChildrenPropertyName:t,getComponentPath:function(e,t,r){return n(e,t,r,[])},getDataPath:function(){},isComponentWithId:r}}),define("warmupUtils/pointers/componentPointers",["lodash","warmupUtils/core/constants","warmupUtils/pointers/DataAccessPointers","warmupUtils/pointers/pointerGeneratorsRegistry","warmupUtils/pointers/jsonItemsFinders"],function(e,t,r,n,i){"use strict";function a(e){return["pagesData",e,"structure"]}function s(t){return e.isArray(t)&&"pagesData"===t[t.length-3]}function o(e,t,r){var n=e(a(r));if(n){var s=i.getComponentPath(n,t.id,t.type);return s&&(s=a(r).concat(s)),s}}function u(t,r,n,i){var a=void 0;if(e.forEach(t,function(e){a=a||o(r,n,e)}),!a&&!i){var s=e.keyBy(t);e.forOwn(r(["pagesData"]),function(e,t){return!!s[t]||!(a=o(r,n,t))&&void 0})}return a}var l=new r;n.registerPointerType(t.VIEW_MODES.DESKTOP,u,i.isComponentWithId,!0,!0,!0),n.registerPointerType(t.VIEW_MODES.MOBILE,u,i.isComponentWithId,!0,!0,!0);var c={getMobilePointer:function(r,n,i){return e.assign(e.clone(i),{type:t.VIEW_MODES.MOBILE})},getDesktopPointer:function(r,n,i){return e.assign(e.clone(i),{type:t.VIEW_MODES.DESKTOP})},isMobile:function(e,r,n){return n.type===t.VIEW_MODES.MOBILE},isPage:function(e,t,r){return s(t.getPath(r))},isPagesContainer:function(e,r,n){return n.id===t.COMP_IDS.PAGES_CONTAINER},isMasterPage:function(e,t,r){var n=t.getPath(r);if(!n)return!1;return"masterPage"===n[1]&&this.isPage(e,t,r)},isInMasterPage:function(e,t,r){return"masterPage"===t.getPath(r)[1]},getViewMode:function(e,r,n){return this.isMobile(e,r,n)?t.VIEW_MODES.MOBILE:t.VIEW_MODES.DESKTOP},getChildrenContainer:function(e,t,r){var n=e(t.getPath(r)),a=i.getChildrenPropertyName(n,r.type),s=l.getOriginalPointerFromInner(r);return s.innerPath=[a],s},getChildren:function(t,r,n){var a=r.getPath(n);if(!a)return[];var s=t(a),o=i.getChildrenPropertyName(s,n.type),u=s[o];return e.map(u,function(e,t){return r.getPointer(e.id,n.type,a.concat([o,t]))})},getChildrenRecursively:function(e,t,r){for(var n=this.getChildren(e,t,r),i=0;i<n.length;)n.push.apply(n,this.getChildren(e,t,n[i])),i++;return n},getChildrenRecursivelyRightLeftRootIncludingRoot:function(t,r,n,i){for(var a=[n],s=[];a.length;){var o=a.shift();e.isFunction(i)&&!i(o)||s.unshift(o);a=this.getChildren(t,r,o).concat(a)}return s},getParent:function(t,r,n){var i=r.getPath(n);if(!i||s(i))return null;var a=e.dropRight(i,2),o=t(a);return o&&r.getPointer(o.id,n.type,a)},getSiblings:function(t,r,n){var i=this.getParent(t,r,n);if(!i)return[];var a=this.getChildren(t,r,i);return e.remove(a,{id:n.id}),a},getComponent:function(e,t,r,n){var a=n.type;r=t.resolveId(r,a);var s=t.getPointer(r,a);if(!s){var o=t.getPath(n),u=e(o),l=i.getComponentPath(u,r,a);l&&(s=t.getPointer(r,a,o.concat(l)))}return s},getMasterPage:function(e,t,r){return this.getPage(e,t,"masterPage",r)},getPage:function(e,t,r,n){var i=n,s=t.getPointer(r,i);if(!s){var o=a(r);if(!e(o))return null;s=t.getPointer(r,i,o)}return s},getNewPage:function(e,r,n,i){var s=i||t.VIEW_MODES.DESKTOP,o=a(n);if(e(o))throw new Error("there is already a page with id "+n);return r.getPointer(n,s,o)},getLandingPageComponents:function(r,n,i){var a=this.getMasterPage(r,n,i);return e(t.LANDING_PAGES_COMP_IDS).map(function(e){return this.getComponent(r,n,e,a)}.bind(this)).compact().value()},getPagesContainer:function(e,r,n){var i=this.getMasterPage(e,r,n);return this.getComponent(e,r,t.COMP_IDS.PAGES_CONTAINER,i)},getFooter:function(e,r,n){var i=this.getMasterPage(e,r,n);return this.getComponent(e,r,t.COMP_IDS.FOOTER,i)},getHeader:function(e,r,n){var i=this.getMasterPage(e,r,n);return this.getComponent(e,r,t.COMP_IDS.HEADER,i)},getUnattached:function(e,t,r,n){return t.getPointer(r,n,[])},getPageOfComponent:function(e,t,r){var n=t.getPath(r);if(!n)return null;var i=n[1];return this.getPage(e,t,i,r.type)},isDescendant:function(t,r,n,i){var a=r.getPath(n),s=r.getPath(i);if(a&&s){var o=s.length;return a.length>o&&e.isEqual(a.slice(0,o),s)}return!1},getAllDisplayedOnlyComponents:function(e,t,r){return t.getAllPointers(r)},registerDisplayedOnlyComponent:function(e,t,r,n){t.registerDisplayedOnlyComponent(r,n)},clearDisplayedOnlyComponents:function(e,t,r){t.clearDisplayedOnlyComponents(r)},getAncestorByPredicate:function(e,t,r,n){for(var i=this.getParent(e,t,r);i&&!n(i);)i=this.getParent(e,t,i);return i}};n.registerDataAccessPointersGenerator("components",c,!0)}),define("warmupUtils/pointers/componentStructurePointers",["lodash","warmupUtils/pointers/DataAccessPointers","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t,r){"use strict";var n=new t,i={getModes:function(e,t,r){return n.getInnerPointer(r,["modes"])},getModesDefinitions:function(e,t,r){return n.getInnerPointer(r,["modes","definitions"])},getModesOverrides:function(e,t,r){return n.getInnerPointer(r,["modes","overrides"])}};r.registerDataAccessPointersGenerator("componentStructure",i)}),define("warmupUtils/pointers/compsChangedByRelayoutPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("changedByRelayout",e.constant(null),e.constant(!0));var r={getCompChangedByRelayout:function(e,t,r){return t.getPointer("changedByRelayout_"+r,"changedByRelayout",["postUpdateOperationsRenders",r])}};t.registerDataAccessPointersGenerator("changedByRelayout",r)}),define("warmupUtils/pointers/dataPointers",["lodash","warmupUtils/core/constants","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t,r){"use strict";function n(){return!0}function i(e){var r=t.PAGE_DATA_DATA_TYPES[e];if(r)return r;throw new Error("there is no such data type "+e)}function a(e,t,r){return["pagesData",t,"data",r||i(e)]}var s=t.DATA_TYPES;e.forEach(s,function(t){r.registerPointerType(t,function(t,r,n,s){var o=i(t),u=n(["pagesData"]);return e.reduce(u,function(e,r,i){var u=a(t,i,o).concat(s.id);return!e&&n(u)?u:e},null)}.bind(null,t),n,!1,!0)});var o={getDataItem:function(e,t,r,n){return this.getItem(e,t,s.data,r,n)},getDataItemWithPredicate:function(t,r,n,i){return e.head(this.getDataItemsWithPredicate(t,r,n,i))},getDataItemsWithPredicate:function(t,r,n,i){var o=i||"masterPage",u=a(s.data,o),l=t(u);return l=l.toJS?l.toJS():l,e.map(e.filter(l,n),function(e){return this.getDataItem(t,r,e.id,o)}.bind(this))},getDesignItemsWithPredicate:function(t,r,n,i){var o=i||"masterPage",u=a(s.design,o),l=t(u);return l=l.toJS?l.toJS():l,e.map(e.filter(l,n),function(e){return this.getDesignItem(t,r,e.id,o)}.bind(this))},getDesignItem:function(e,t,r,n,i){return this.getItemWithOptional(e,t,s.design,r,n,i)},getPropertyItem:function(e,t,r,n,i){return this.getItemWithOptional(e,t,s.prop,r,n,i)},getBehaviorsItem:function(e,t,r,n){return this.getItem(e,t,s.behaviors,r,n)},getConnectionsItem:function(e,t,r,n){return this.getItem(e,t,s.connections,r,n)},getMobileHintsItem:function(e,t,r,n){return this.getItem(e,t,s.mobileHints,r,n)},getThemeItem:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"masterPage";return this.getItem(e,t,s.theme,r,n)},getItem:function(e,t,r,n,i){var s=a(r,i);return s.push(n),t.getPointer(n,r,s)},getItemWithOptional:function(e,t,r,n,i,a){var s=this.getItem(e,t,r,n,i);return a&&(s.component=a),s},getPageDataMap:function(e,t,r,n){var i=a(r,n);return t.getPointer(r+" map",r,i)},getDataItemFromMaster:function(e,t,r){return this.getDataItem(e,t,r,"masterPage")},getPageIdOfData:function(e,t,r){return t.getPath(r)[1]},validatePath:function(e,t,r){return!!t.getPath(r)}};r.registerDataAccessPointersGenerator("data",o)}),define("warmupUtils/pointers/meshStylePointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("meshStyles",e.constant(null),e.constant(!0));var r={getMeshStylesMapPointer:function(e,t){return t.getPointer("meshStyles","meshStyles",["meshStyles"])},getMeshStylesPointer:function(e,t,r,n,i){return t.getPointer("meshStyles_"+r+"_"+n+"_"+i,"meshStyles",["meshStyles",r,n,i])}};t.registerDataAccessPointersGenerator("meshStyles",r)}),define("warmupUtils/pointers/svgShapePointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("svgShapes",e.constant(null),e.constant(!0));var r={getSvgShapePointer:function(e,t,r){return t.getPointer("svgShapes"+r,"svgShapes",["svgShapes",r])}};t.registerDataAccessPointersGenerator("svgShapes",r)}),define("warmupUtils/pointers/displayedOnlyComponentsPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";var r="displayedOnlyComponents";t.registerPointerType(r,e.constant(null),e.constant(!0));var n={getTemplateIdMap:function(e,t){return t.getPointer(r,r,[r,"componentTemplateId"])},getComponentTemplateId:function(e,t,n){return t.getPointer(r+"_"+n,r,[r,"componentTemplateId",n])}};t.registerDataAccessPointersGenerator(r,n)}),define("warmupUtils/pointers/generalPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";var r="general";t.registerPointerType(r,e.constant(null),e.constant(!0)),t.registerPointerType("metadata",e.constant(null),e.constant(!0));var n={getAllTheme:{id:"theme",path:["pagesData","masterPage","data","theme_data"]},getOrphanPermanentDataNodes:{id:"orphanPermanentDataNodes",path:["orphanPermanentDataNodes"]},getTextRuntimeOverallBorders:{id:"overallBorders",path:["textRuntimeLayout","overallBorders"]},getDockedRuntimeLayout:{id:"dockedRuntimeLayout",path:["dockedRuntimeLayout"]},getNoEnforceAnchorsPointer:{id:"noEnforceAnchors",path:["noEnforceAnchors"]},getSaveInvalidationCount:{id:"saveInvalidationCount",path:["saveInvalidationCount"]},getPagesData:{id:"pagesData",path:["pagesData"]},getServiceTopology:{id:"serviceTopology",path:["serviceTopology"]},getCommittedMobilePages:{id:"committedMobilePages",path:["committedMobilePages"]},getDeletedPagesMapPointer:{id:"deletedPagesMap",path:["deletedPagesMap"]},getUserId:{id:"userId",path:["rendererModel","userId"]},getIsStudioUser:{id:"isStudioUser",path:["documentServicesModel","userInfo","isStudio"]},getEditorData:{id:"editorData",path:["editorData"]},getMobileStructuresPointer:{id:"mobileStructures",path:["mobileStructures"]},getCompsToUpdateAnchors:{id:"compsToUpdateAnchors",path:["compsToUpdateAnchors"]},getRuntimePointer:{id:"runtime",path:["runtime"]},getNeverSaved:{id:"neverSaved",path:["documentServicesModel","neverSaved"]},getPublicUrl:{id:"publicUrl",path:["documentServicesModel","publicUrl"]},getPermissions:{id:"permissions",path:["documentServicesModel","permissionsInfo"]},getForbiddenPageUriSEOs:{id:"forbiddenPageUriSEOs",path:["urlFormatModel","forbiddenPageUriSEOs"]},getUrlFormat:{id:"urlFormat",path:["urlFormatModel","format"]},getClientSpecMap:{id:"clientSpecMap",path:["rendererModel","clientSpecMap"]},getAutosaveInfo:{id:"autoSaveInfo",path:["documentServicesModel","autoSaveInfo"]},getSiteVersion:{id:"siteVersion",path:["documentServicesModel","version"]},getMetaSiteId:{id:"metaSiteId",path:["rendererModel","metaSiteId"]},getDocumentType:{id:"documentType",path:["rendererModel","siteInfo","documentType"]},getActiveModes:{id:"activeModes",path:["activeModes"]},getContactFormsMetaData:{id:"contactformsMetaData",path:["contactforms_metadata"]},getRootsRenderedInMobileEditor:{id:"rootsRenderedInMobileEditor",path:["rootsRenderedInMobileEditor"]},getRenderFlags:{id:"renderFlags",path:["renderFlags"]},getRoutersPointer:{id:"routers",path:["routers"]},getSantaBase:{id:"santaBase",path:["santaBase"]},getPlatformAppsPointer:{id:"platformAppMap",path:["platformAppMap"]}};Object.freeze(n);var i={getRenderFlag:function(e,t,n){return t.getPointer("renderFlags"+n,r,["renderFlags",n])},getRenderRealtimeConfigItem:function(e,t,n){return t.getPointer("renderRealtimeConfig"+n,r,["renderRealtimeConfig",n])},getAutoSaveInnerPointer:function(e,t,n){return t.getPointer("autoSaveInfo"+n,r,["documentServicesModel","autoSaveInfo",n])},getPublishSaveInnerPointer:function(e,t){return t.getPointer("publishSaveInitiator",r,["documentServicesModel","publishSaveInitiator"])},getSilentSaveInnerPointer:function(e,t){return t.getPointer("silentSaveInitiator",r,["documentServicesModel","silentSaveInitiator"])},getMediaQualityItemPointer:function(e,t,n){return t.getPointer("mediaQualityStore"+n,r,["mediaQualityStore",n])},getMediaPlaybackItemPointer:function(e,t,n){return t.getPointer("mediaStore"+n,r,["mediaStore",n])},getSemiNativeQueueIndexPointer:function(e,t,n){return t.getPointer("queueIndex"+n,r,["semiNativeMessageQueues",n,"queueIndex"])}},a=e(n).mapValues(function(e){return function(t,n){return n.getPointer(e.id,r,e.path)}}).assign(i).value();Object.freeze(a),t.registerDataAccessPointersGenerator(r,a)}),define("warmupUtils/pointers/platformPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry","warmupUtils/pointers/DataAccessPointers"],function(e,t,r){"use strict";function n(e,t){return t.getPointer("platform",i,["platform"])}var i="platform",a=new r;t.registerPointerType(i,e.constant(null),e.constant(!0));var s=Object.freeze({getPlatformPointer:n,getAppStatePointer:function(e,t){var r=n(0,t);return a.getInnerPointer(r,"appState")},getControllerStatePointer:function(e,t,r){return t.getPointer(r+" state",i,["platform","appState",r])},getControllerStageDataPointer:function(e,t,r,n,a){return t.getPointer("controllerStageData "+r+n+a,i,["platform","appManifest",r,"controllersStageData",n,a])},getAppManifestPointer:function(e,t,r){return t.getPointer("appManifest "+r,i,["platform","appManifest",r])},appPublicApiNamePointer:function(e,t,r){return t.getPointer("appPublicApiName "+r,i,["platform","appPublicApiName",r])},getPlatformWidgetStatePointer:function(e,t,r){return t.getPointer(r+"_widgetState",i,["platformWidgetsState",r])},getPagesPlatformApplicationsPointer:function(e,t){return t.getPointer("pagesPlatformApplications",i,["pagesPlatformApplications"])},getPagesPlatformApplicationPointer:function(e,t,r){return t.getPointer(r+" pages",i,["pagesPlatformApplications",r])}});t.registerDataAccessPointersGenerator(i,s)}),define("warmupUtils/pointers/activeModesPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("activeModes",e.constant(null),e.constant(!0));var r={getAllActiveModes:function(e,t){return t.getPointer("activeModes","activeModes",["activeModes"])},getPageActiveModes:function(e,t,r){return t.getPointer(r,"activeModes",["activeModes",r])}};t.registerDataAccessPointersGenerator("activeModes",r)}),define("warmupUtils/pointers/pagePointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("page",function(){return null},function(){return!0},!1,!0);var r={isPointerPageType:function(e,t,r){return r&&"page"===r.type},getNewPagePointer:function(e,t,r){var n=["pagesData",r];return t.getPointer(r,"page",n)},getPagePointer:function(t,r,n){var i=["pagesData",n],a=t(i);return e.isUndefined(a)?null:r.getPointer(n,"page",i)},isExists:function(t,r,n){var i=t(["pagesData",n]);return!e.isUndefined(i)},getAllPagesPointer:function(e,t){return t.getPointer("all","page",["pagesData"])},getNonDeletedPagesPointers:function(t,r,n){n=!e.isUndefined(n)&&n;var i=["pagesData"],a=t(i);return a=e.pickBy(a,function(e,t){return!!e&&!(!n&&"masterPage"===t)}),e.map(a,function(e,t){return r.getPointer(t,"page",i.concat(t))})},getPageData:function(e,t,r){var n=["pagesData",r,"data","document_data"];return e(n)?t.getPointer(r+"_data","page",n):null},getPageProperties:function(e,t,r){var n=["pagesData",r,"data","component_properties"];return e(n)?t.getPointer(r+"_prop","page",n):null},getPageDesignData:function(e,t,r){var n=["pagesData",r,"data","design_data"];return e(n)?t.getPointer(r+"_design","page",n):null},getResolvedDataMapsPointer:function(e,t){return t.getPointer("resolvedDataMaps","page",["resolvedDataMaps"])},getPageBehaviorsData:function(e,t,r){var n=["pagesData",r,"data","behaviors_data"];return e(n)?t.getPointer(r+"_design","page",n):null}};r.getPageTranslations=function(e,t,r,n){if(n("sv_multilingual")){var i=["pagesData",r,"translations"];return t.getPointer(r+"_translations","page",i)}},t.registerDataAccessPointersGenerator("page",r)}),define("warmupUtils/pointers/compBehavioursPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("compBehaviours",e.constant(null),e.constant(!0));var r={getCompBehavioursMapPointer:function(e,t){return t.getPointer("compBehavioursMap","compBehaviours",["compBehavioursMap"])},getCompBehaviourPointer:function(e,t,r,n){return t.getPointer("compBehavioursMap_"+r+"_"+n,"compBehaviours",["compBehavioursMap",r,n])}};t.registerDataAccessPointersGenerator("compBehaviours",r)}),define("warmupUtils/pointers/wixappsPointers",["lodash","warmupUtils/pointers/pointerGeneratorsRegistry"],function(e,t){"use strict";t.registerPointerType("wixapps",e.constant(null),e.constant(!0));var r={getCounterData:function(e,t,r,n){return n=n||"general",t.getPointer("wixapps_"+r+"_"+n,"wixapps",["wixappsRenderCounters",r,n])},getPackageCounterData:function(e,t,r){return t.getPointer("wixapps_"+r,"wixapps",["wixappsRenderCounters",r])}};t.registerDataAccessPointersGenerator("wixapps",r)}),define("warmupUtils/pointers/pointers",["warmupUtils/pointers/pointerGeneratorsRegistry","warmupUtils/pointers/pointersCache","warmupUtils/pointers/DataAccessPointers","warmupUtils/pointers/aspectsPointers","warmupUtils/pointers/componentPointers","warmupUtils/pointers/componentStructurePointers","warmupUtils/pointers/compsChangedByRelayoutPointers","warmupUtils/pointers/dataPointers","warmupUtils/pointers/meshStylePointers","warmupUtils/pointers/svgShapePointers","warmupUtils/pointers/displayedOnlyComponentsPointers","warmupUtils/pointers/generalPointers","warmupUtils/pointers/platformPointers","warmupUtils/pointers/activeModesPointers","warmupUtils/pointers/pagePointers","warmupUtils/pointers/compBehavioursPointers","warmupUtils/pointers/wixappsPointers"],function(e,t,r){"use strict";return{pointerGeneratorsRegistry:e,PointersCache:t,DataAccessPointers:r}}),define("warmupUtils/core/routerUtils",["lodash"],function(e){"use strict";return{isDynamicPage:function(t,r){return e.some(t,function(t){return e.includes(e.values(t.pages),r)})}}}),define("warmupUtils/core/renderUtils",["lodash"],function(e){"use strict";return{mapInAlphabeticalOrder:function(t,r,n){var i=n?e.bind(r,n):r,a=e.keys(t).sort(),s=e.reduce(a,function(e,r){return e[r]=t[r],e},{});return e.map(s,i)},noAppsOnSite:function(t){return e.isEmpty(t.pagesPlatformApplications)},hasPlatformAppOnRenderedRoots:function(t,r){r=r.concat("masterPage");var n=t.pagesPlatformApplications;return e.some(n,function(t){var n=e.keys(t);return e.some(r,function(t){return e.includes(n,t)})})}}}),define("warmupUtils/loggingUtils/bi/errors.json",[],function(){return{DATA_PLUGIN_ERROR:{errorCode:111029,severity:"fatal",params:{p1:"store",p2:"path",p3:"value",p4:"stack"}}}}),define("warmupUtils/loggingUtils/bi/wixBI",["lodash","coreUtilsLib"],function(e,t){"use strict";function r(e,r,n,u,l){var c=t.urlUtils.joinURL(r,n);u&&(c+="?"+u),e.wixBiSession.sendBeacon&&e.wixBiSession.sendBeacon(c,l),s&&a&&function(e){if(i){var r=window._biCalls;if(r){var n=r.push(t.urlUtils.parseUrl(e));n>o&&r.splice(0,n>>2)}}}(c)}function n(n,i){var s=e.get(n,["serviceTopology","biServerUrl"]);s&&(u.biUrl=s),e.defaults(i,u);var o=!1!==i.useBeacon,l=e.isString(i.queryString)?i.queryString:t.urlUtils.toQueryString(e.defaults(i.params,{ts:function(t,r){var n=a&&"editor"===r.adapter?window.parent.mainLoaded:0;return n=n||t.wixBiSession.initialTimestamp||t.wixBiSession.mainLoaded,e.now()-n}(n,i)}));r(n,i.biUrl,i.adapter,l,o)}var i="undefined"!=typeof window,a=i&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited"),s=i&&window.queryUtil&&window.queryUtil.isParameterTrue("isqa"),o=1e3;s&&a&&(window._biCalls=[]);var u={biUrl:"//frog.wixpress.com",adapter:"",params:{}};return{report:n}}),define("warmupUtils/loggingUtils/logger/newrelic",["lodash"],function(e){"use strict";if(!("undefined"==typeof window||window.queryUtil&&window.queryUtil.isParameterTrue("suppressbi"))){var t=void 0;try{t=window.parent.newrelic}catch(e){t=window.newrelic}if(t){var r=window.performance&&window.performance.now?function(){return Math.round(window.performance.now())}:function(){return 0};return{setCustomAttribute:t.setCustomAttribute.bind(t),addPageAction:function(n,i){var a=r();return i=e.assign({},i,{timeSinceNavigate:a}),t.addPageAction(n,i)},finished:function(){return r()&&this.setCustomAttribute("timeSinceNavigate",r()),t.finished.apply(t,arguments)}}}}return{setCustomAttribute:e.noop,addPageAction:e.noop,finished:e.noop}}),define("warmupUtils/loggingUtils/logger/performance",["lodash","warmupUtils/loggingUtils/logger/newrelic"],function(e,t){"use strict";function r(){return-1}var n="undefined"!=typeof window&&window.queryUtil;if(!n||n.isParameterTrue("suppressperformance"))return{VERBOSE:"verbose",mark:e.noop,measure:e.noop,start:e.noop,startOnce:e.noop,finish:e.noop,time:function(e,t){return t.apply(this,Array.prototype.slice.call(arguments,2))},getMark:e.noop,getMeasure:e.noop,clearMarks:e.noop,clearMeasures:e.noop,now:e.now,getResourceSize:r};var i=function(){var t=n.getParameterByName("performance"),r=(t?t.toLowerCase():"").split(",");return e.includes(r,"all")?function(){return!0}:function(t){return!t||e.includes(r,t)}}(),a=void 0,s=window.performance;if(s&&s.now)a=s.now.bind(s);else{var o=window.wixBiSession&&window.wixBiSession.initialTimestamp||0;a=function(){return e.now()-o}}var u=n.getParameterByName("debug")&&"force"!==n.getParameterByName("sampleratio")?e.noop:function(r,n){r&&(n=e.defaults({measureName:r.name,startTime:Math.round(r.startTime),duration:Math.round(r.duration)},n),t.addPageAction("measure",n))},l=void 0;if(s&&s.measure){var c=function(t,r){return e.find(s.getEntriesByName(r),{entryType:t})};l={mark:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).category;i(t)&&s.mark(e)},measure:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.category,o=n.additionalData,c=n.report;if(i(a))try{s.measure(e,t,r),c&&u(l.getMeasure(e),o)}catch(e){}},getMark:c.bind(this,"mark"),getMeasure:c.bind(this,"measure"),clearMarks:s.clearMarks.bind(s),clearMeasures:s.clearMeasures.bind(s)}}else{var g={domLoading:{name:"domLoading",startTime:0}},p={},d=function t(r,n){n?delete r[n]:(e(r).keys().forEach(t.bind(null,r)),r={})};l={mark:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).category;i(t)&&(g[e]={name:e,startTime:a()})},measure:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.category,s=n.additionalData,o=n.report;if(i(a)){var c=l.getMark(t),g=l.getMark(r);if(c&&g){var d={name:e,startTime:c.startTime,duration:g.startTime-c.startTime};isNaN(d.duration)||(p[e]=d,o&&u(d,s))}}},getMark:function(e){return g[e]},getMeasure:function(e){return p[e]},clearMarks:d.bind(this,g),clearMeasures:d.bind(this,p)}}return l.start=function(e,t){l.clearMeasures(e),l.mark(e+" start",t)},l.startOnce=function(e,t){l.getMark(e+" start")||l.start(e,t)},l.finish=function(e,t){var r=e+" start";if(l.getMark(r)){var n=e+" finish";l.mark(n,t),l.measure(e,r,n,t),l.clearMarks(n),l.clearMarks(r)}return l.getMeasure(e)},l.time=function(e,t,r){try{return l.start(e,r),t.apply(this,Array.prototype.slice.call(arguments,4))}finally{l.finish(e,r)}},l.now=a,s&&window.performance.getEntriesByName?l.getResourceSize=function(t){var r=s.getEntriesByName(t);if(r&&r.length){var n=r[0],i=n.transferSize||n.encodedBodySize;if(e.isNumber(i))return i}return-1}:l.getResourceSize=r,l.VERBOSE="verbose",l}),define("warmupUtils/loggingUtils/logger/performanceMetrics",[],function(){"use strict";return{MEASURE_NAMES:{4:"main-r started",5:"utils loaded",6:"packages loaded",7:"load data",8:"render",finish:"layout",14:"progressive reveal",16:"TPAs"},RENDER_PREPARE:"prepare",RE_RENDER:"reRender",RE_LAYOUT:"reLayout",SAVE:{SAVE_DATA_FIXER:"save-data-fixer"},AUTOSAVE:{PRESAVE_OPERATIONS:"autosave-presave-operations",SEND_AJAX:"autosave-send-ajax",CALC_DIFF:"autosave-calc-diff",LOAD_AJAX:"autosave-load-ajax",LOAD_APPLY:"autosave-load-apply"},DS_INIT:"documentServices initMethod",MOBILE:{CONVERT_PAGE:"convertPage",MERGE_ALL_PAGES:"mergeAllPages"}}}),define("warmupUtils/loggingUtils/logger/services/browsingSession",["lodash","coreUtilsLib"],function(e,t){"use strict";function r(){try{return{isNew:!1,ts:parseInt(window.localStorage.getItem(i),10),id:window.localStorage.getItem(a)}}catch(e){return{isNew:!1,ts:null,id:null}}}function n(){var n=!1;return function(){var e=!1,t=Date.now(),n=r();return(isNaN(n.ts)||t-n.ts>s)&&(e=!0),e}()&&(!function(){try{var e=Date.now(),r=t.guidUtils.getGUID();window.localStorage.setItem(i,e),window.localStorage.setItem(a,r)}catch(e){return{ts:null,id:null}}}(),n=!0),function(){try{var e=Date.now();window.localStorage.setItem(i,e)}catch(e){return null}}(),e.assign(r(),{isNew:n})}var i="beatSessionTs",a="beatSessionId",s=18e5;return{SESSION_TS_KEY:i,SESSION_ID_KEY:a,SESSION_TTL_MS:s,get:r,track:n}}),define("warmupUtils/loggingUtils/logger/beat",["lodash","coreUtilsLib","warmupUtils/loggingUtils/bi/wixBI","warmupUtils/loggingUtils/logger/performance","warmupUtils/loggingUtils/logger/performanceMetrics","warmupUtils/loggingUtils/logger/services/browsingSession","experiment"],function(e,t,r,n,i,a,s){"use strict";function o(r,n,i,a){var s=function(r){return{vuuid:function(){var r=t.cookieUtils.getCookie("_wixUIDX")||"";return r=r.slice(e.lastIndexOf(r,"|")+1),r=r.replace(/^(null-user-id|null)$/g,"")}(),vid:r.getSvSession()||y,dc:function(t){if(e.isString(t)){var r=t.split(".");if(r.length>1)return r[1]}return t}(r.serviceTopology.serverName),vsi:h[r.siteId].viewerSessionId,uuid:r.siteHeader.userId,sid:r.siteId,iss:e.invoke(r,"isClientAfterSSR",!1),msid:r.getMetaSiteId()}}(r),o=function(t,r,n){var i=t.biData,a=i.getTime(),s=D(r,i),o=t.wixBiSession,u={pid:n,pn:i.getPageNumber(),st:function(t){var r=t.rendererModel.siteInfo.documentType,n=e.indexOf(P,r);return-1!==n?n:r}(t),sr:function(){if("undefined"==typeof window)return"";var e=window.screen&&window.screen.width||0,t=window.screen&&window.screen.height||0;return e+"x"+t}(),wr:function(){if("undefined"==typeof window)return"";var e=0,t=0;window.innerWidth?(e=window.innerWidth,t=window.innerHeight):window.document&&(window.document.documentElement&&window.document.documentElement.clientWidth?(e=window.document.documentElement.clientWidth,t=window.document.documentElement.clientHeight):window.document.body&&window.document.body.clientWidth&&(e=window.document.body.clientWidth,t=window.document.body.clientHeight));return e+"x"+t}(),isjp:o.maybeBot?"1":"0",isp:t.isPremiumDomain(),url:function(e){return e.replace(/^http(s)?:\/\/(www\.)?/,"").substring(0,256)}(t.currentUrl.full),ref:window.document.referrer,ts:"start"===r?0:a.loadingTime,tts:"start"===r?0:a.totalLoadingTime,c:e.now(),v:t.baseVersion||"unknown",fis:s.isNew,bsi:s.id};"finish"===r&&"undefined"!=typeof window&&window.santaRenderingError&&(u.ssr_fb=window.santaRenderingError.reason);o&&o.checkVisibility&&(u.ita=o.checkVisibility());return u}(r,i,a),l={et:u(i)};return e.merge({},n,s,o,l)}function u(t){var r=e.indexOf(v,t);return-1!==r?r:t>3?t:-1}function l(e,r){return e&&e.wixBiSession.viewerSessionId&&"preview"!==e.viewMode&&!t.stringUtils.isTrue(e.currentUrl.query.suppressbi)&&-1!==u(r)&&(!C(r)||!function(e){var t=d[e];return d[e]=!0,t}(r))}function c(r,n){return{queryString:function(r){var n=t.urlUtils.toQueryString(e.omit(r,w),!0);return e.reduce(w,function(e,n){return e+"&"+t.urlUtils.toQueryParam(n,r[n],!0)},n)}(n),adapter:I.adapter,biUrl:r.getServiceTopologyProperty("biServerUrl")||I.biUrl}}function g(t,r){var n=t.currentUrl.query.sampleratio;return!(!(e.result(t,"isDebugMode",!1)&&"force"!==n||"none"===n)&&r)||(s.isOpen("vsiCoin",t)&&t.wixBiSession.viewerSessionId?(e.isUndefined(t.wixBiSession.coin)&&(t.wixBiSession.coin=parseInt(t.wixBiSession.viewerSessionId,16)),t.wixBiSession.coin%r==0):0===Math.floor(t.wixBiSession.random*r))}function p(e,a,s){!function(e){h[e.siteId]=h[e.siteId]||{viewerSessionId:e.wixBiSession.viewerSessionId||t.guidUtils.getGUID()}}(e);var u=o(e,U,a,s);if(function(e,t){var r=t.et;m.et=r,e.wixBiSession.et=r}(e,u),l(e,a)&&function(e,t){if(g(e,S[t.et])){var n=c(e,t);r.report(e,n)}}(e,u),e.isViewerMode()){var p=e.viewMode;p="site"===p?"":" "+p,E||(n.measure("main-r started"+p,"domLoading","beat 4",!0),n.measure("utils loaded"+p,"beat 4","beat 5",!0),E="beat 5");var d="beat "+a;n.mark(d);var f=i.MEASURE_NAMES[a]||a;n.measure(f+p,E,d,!0),E=d}}var d=[],f=("undefined"!=typeof window?window:{}).wixBiSession,m=void 0===f?{}:f;m.beat&&m.beat(5);var h={},P=["No Site Type","WixSite","UGC","Template"],v=["No Event Type","start","visible","finish"],y="NO_SV",I={adapter:"bt",biUrl:"http://frog.wix.com/"},U={src:29,evid:3},w=["url","ref"],S={16:20},D=function(e){return"finish"===e?a.track():a.get()},C=function(e){return e>3&&16!==e},E=void 0;return{reportBeatEvent:p,shouldIncludeInSampleRatio:g}}),define("warmupUtils/loggingUtils/logger/logger",["lodash","coreUtilsLib","warmupUtils/loggingUtils/bi/wixBI","warmupUtils/loggingUtils/logger/beat"],function(e,t,r,n){"use strict";function i(r,n){var i={};return(44===r.src||42===r.src&&n)&&(i.visitor_id=n),e.assign(i,{errn:r.errorName,evid:10,sev:function(e){return"string"==typeof e?v[e]:e}(r.severity),cat:f?1:2,iss:1,ut:t.cookieUtils.getCookie("userType")})}function a(t,r,n){var a=e.merge({src:44,sev:30,errn:"error_name_not_found"},c(t,P),i(t,n));return function(t,r){10===t.evid&&e.isObject(r)&&e.forEach(["p1","p2","p3"],function(e){r[e]&&(r[e]=o(r[e]))})}(a,r),a=e.merge(a,l(t,r)),r&&r.description&&(a.desc=JSON.stringify(r.description).slice(0,512)),a}function s(r,n,i,s){var o=void 0,u=function(r){I[r.siteId]=I[r.siteId]||r.wixBiSession.viewerSessionId||t.guidUtils.getGUID();var n=r.serviceTopology.serverName?e.head(r.serviceTopology.serverName.split(".")):"",i={site_id:r.siteId,msid:function(t){return e.isFunction(t.getMetaSiteId)?t.getMetaSiteId():t.rendererModel.metaSiteId}(r),majorVer:m,ver:function(e){var t=e.santaBase&&e.santaBase.match(/([\d\.]+)\/?$/);return t&&t[1]||""}(r),server:n,viewMode:r.viewMode};f||(i.vsi=I[r.siteId]);return i}(r);switch(n){case"error":o=a(i,s,d(r));break;case"event":o=function(t,r){return e.merge({src:42},c(t,y),l(t,r))}(i,s)}return e.merge(o,u)}function o(r){return e.isString(r)?t.biLoggerSanitizer.sanitizePII(r):r}function u(e){return"string"==typeof e?encodeURIComponent(e):e}function l(t,r){var n=t.params;return e.isArray(n)?e.pick(r,n):e.isObject(n)?e.mapValues(n,function(e){return u(r[e])}):e.mapValues(r,u)}function c(t,r){return e.transform(t,function(e,t,n){var i=r[n];i&&(e[i]=t)},{})}function g(r,i){return!function(e){return t.stringUtils.isTrue(e.currentUrl.query.suppressbi)}(r)&&!function(e){return!!e&&(e.callCount=e.callCount||0,e.callCount++,e.callLimit&&e.callCount>e.callLimit)}(i)&&function(t,r){if(t.forceBI)return!0;var i=h;return r&&(e.result(t,"isWixSite",!1)&&"wixSiteSampleRatio"in r?i=r.wixSiteSampleRatio:"sampleRatio"in r?i=r.sampleRatio:("errorCode"in r||"editor"===r.endpoint)&&(i=0)),!(i&&i>=1)||n.shouldIncludeInSampleRatio(t,i)}(r,i)}function p(t,n,i){if(t&&e.isObject(n)&&g(t,n)){var a=function(e,t,r){var n=t.reportType||(t.errorCode||t.errc?"error":"event"),i={biUrl:e.serviceTopology.biServerUrl,adapter:t.adapter||t.endpoint||("error"===n?"trg":"ugc-viewer"),params:s(e,n,t,r)};return"useBeacon"in t&&(i.useBeacon=t.useBeacon),i}(t,n,i);r.report(t,a)}}function d(e){return I[e.siteId]||e.wixBiSession&&e.wixBiSession.viewerSessionId}var f="undefined"!=typeof window&&window.queryUtil&&window.queryUtil.isParameterTrue("isEdited"),m="undefined"==typeof window||window.clientSideRender?3:4,h=10,P={errorName:"errn",errorCode:"errc",errc:"errc",src:"src",severity:"sev",sev:"sev",packageName:"errscp"},v={recoverable:10,warning:20,error:30,fatal:40},y={eventId:"evid",evid:"evid",src:"src"},I={};return{reportBI:p,sanitizePIIForBi:o,register:function(t,r,n){e.forOwn(n,function(e){e.packageName=t})},reportBeatEvent:n.reportBeatEvent,shouldSendReport:g,getVisitorId:d}}),define("warmupUtils/loggingUtils/bi/errors",["warmupUtils/loggingUtils/bi/errors.json","lodash","warmupUtils/loggingUtils/logger/logger"],function(e,t,r){"use strict";return t.forEach(e,function(e,t){e.errorName=t}),r.register("utils","error",e),e}),define("warmupUtils/loggingUtils/logger/services/imageContext",["lodash","warmupUtils/loggingUtils/logger/performance"],function(e,t){"use strict";function r(){this._current=null}function n(e,t,r){this._siteData=e,this._pageId=t.pageId,this._events=r,this._interval=0,this._finishCount=1,this._failDetailsBuffer=[],this._status=a.INITIAL,this._reason=s.INITIAL,this._images={total:0,success:0,fail:0,failDetails:[],totalSize:0}}var i={SUCCESS:0,FAIL:1},a={INITIAL:0,PROGRESS:1,FINISHED:2},s={INITIAL:0,SUCCESS_OR_FAIL:1,TIMED_OUT:2,DESTROYED:3},o={},u=/\/(v[0-9.]+\/.+)$/,l=/\/([^\/]+)$/;r.prototype={createImageContext:function(e,t,r,i,a){return this._current=new n(t,{pageId:e},{onProgress:r,onSuccess:i,onFail:a})},getCurrentImageContext:function(){return this._current}},n.prototype={_isFinished:function(){return this._images.total===this._images.success+this._images.fail},_isFinishSuccess:function(){return this._isFinished()&&0===this._images.fail},_checkFinished:function(){this._finishCount<=10&&this._isFinished()&&(this._finish(s.SUCCESS_OR_FAIL),this._isFinishSuccess()?this._events.onSuccess(this):this._events.onFail(this),this._finishCount++)},_startProgress:function(){var e=this,t=1;this._status=a.PROGRESS,this._interval=setInterval(function(){e._flushFailDetailsBuffer(),e._events.onProgress(e,t++),t>10&&e._finish(s.TIMED_OUT)},3e3)},_stopProgress:function(){this._interval&&(clearInterval(this._interval),this._interval=0)},_finish:function(e){this._status=a.FINISHED,this._reason=e,this._failDetailsBuffer.length&&this._flushFailDetailsBuffer(),this._stopProgress()},_onImageStatusChange:function(r,n){if(!(this._status<a.PROGRESS||this._reason>s.SUCCESS_OR_FAIL||n.canceled)){if(r===i.SUCCESS){var o=n.target?t.getResourceSize(n.target.src):0;this._increaseSuccessCount(o)}else{var c=n.target?function(t){if(e.isString(t)){var r=t.match(u);return r||(r=t.match(l))?r[1]:""}return""}(n.target.src):"";this._increaseFailCount(c)}this._checkFinished()}},_increaseSuccessCount:function(e){this._images.success++,this._images.totalSize+=e},_increaseFailCount:function(e){var t=this._siteData.biData.getTime();this._images.fail++,this._failDetailsBuffer.push({d:t.totalLoadingTime,url:e})},_flushFailDetailsBuffer:function(){this._images.failDetails.push(this._failDetailsBuffer),this._failDetailsBuffer=[]},getImages:function(){return this._images},getPageId:function(){return this._pageId},setImages:function(t){var r=function(t,r,n){return e.filter(t,function(e){var t=e.id;return o[t]?n&&!!o[t][r]:(o[t]={},o[t][r]=!0,!0)})}(t,this.getPageId(),this._status===a.INITIAL);return this._images.total+=r.length,this._status===a.INITIAL&&(this._startProgress(),this._checkFinished()),function(t,r,n){e.forEach(t,function(e){e.promise.then(r,n)})}(r,this._onImageStatusChange.bind(this,i.SUCCESS),this._onImageStatusChange.bind(this,i.FAIL)),this},destroy:function(){this._finish(s.DESTROYED)}};var c={_sites:{},get:function(e){return this._sites[e.siteId]=this._sites[e.siteId]||new r}};return{create:function(t,r,n,i,a){return n=n||e.noop,i=i||e.noop,a=a||e.noop,c.get(t).createImageContext(r,t,n.bind(null,t),i.bind(null,t),a.bind(null,t))},getCurrent:function(e){return c.get(e).getCurrentImageContext()}}}),define("warmupUtils/loggingUtils/logger/imagesBi",["lodash","coreUtilsLib","warmupUtils/loggingUtils/bi/wixBI","warmupUtils/loggingUtils/logger/beat","warmupUtils/loggingUtils/logger/services/imageContext"],function(e,t,r,n,i){"use strict";function a(t){return JSON.stringify({a:e.take(t,c)})}function s(r,n,i){var a=e.defaults(function(e,r){var n=r.getImages(),i=n.totalSize>=0?Math.round(n.totalSize/1024):"",a=e.biData;return{src:29,d:a.getTime().totalLoadingTime,tn:n.total,sid:e.siteId,msid:e.getMetaSiteId(),pid:r.getPageId(),pn:a.getPageNumber(),vsi:e.wixBiSession.viewerSessionId,vid:t.cookieUtils.getCookie("svSession"),s:i}}(r,n),i);return{adapter:"m",queryString:t.urlUtils.toQueryString(a)}}function o(e,t,n){var i=t.getImages();r.report(e,s(e,t,{evid:11,i:n,sn:i.success,fn:i.fail,fd:a(i.failDetails[n-1])}))}function u(e,t){r.report(e,s(e,t,{evid:12}))}function l(t,n){var i=n.getImages();r.report(t,s(t,n,{evid:13,fn:i.fail,fd:a(e.flatten(i.failDetails))}))}var c=8;return function(e,r){if(function(e){return e.isViewerMode()&&n.shouldIncludeInSampleRatio(e)&&!t.stringUtils.isTrue(e.currentUrl.query.suppressbi)}(e)){var a=e.biData.getPageId(),s=i.getCurrent(e);return s&&s.getPageId()===a||(s&&s.destroy(),s=i.create(e,a,o,u,l)),s=s.setImages(r)}}}),define("warmupUtils/loggingUtils/loggingUtils",["warmupUtils/loggingUtils/bi/errors","warmupUtils/loggingUtils/logger/logger","warmupUtils/loggingUtils/logger/performance","warmupUtils/loggingUtils/logger/newrelic","warmupUtils/loggingUtils/logger/imagesBi","warmupUtils/loggingUtils/logger/performanceMetrics"],function(e,t,r,n,i,a){"use strict";return{bi:{errors:e},logger:t,performance:r,newrelic:n,imagesBi:i,performanceMetrics:a}}),define("warmupUtils/log/log",["lodash","coreUtilsLib"],function(e,t){"use strict";function r(r){var n=(r=r||console).log.bind(console),i=r.warn.bind(console),a=r.error.bind(console),s="undefined"==typeof window||"all"===t.urlUtils.parseUrl(e.get(window,["location","href"],"")).query.debug,o=s?n:e.noop;return{warnVerbose:s?i:e.noop,verbose:o,info:n,warn:i,error:a,warnDeprecation:function(e){s&&console.error("DocumentServices|Deprecated|"+e)}}}return{init:r,nativeConsoleLog:r(console)}}),define("warmupUtils/wixUrlParser/utils/urlParserUtils",["lodash","coreUtilsLib","warmupUtils/dal/siteDataUtils"],function(e,t,r){"use strict";return{getResolvedSiteData:function(n){if(n.isResolvedSiteData)return n;var i=n.getCurrentUrlPageId(),a=e.keyBy(n.getPagesDataItems(),"id");a.masterPage=n.getDataByQuery("masterPage");var s={primaryPageId:n.getPrimaryPageId(),urlFormat:n.getUrlFormat(),mainPageId:n.getMainPageId(),externalBaseUrl:n.getExternalBaseUrl(),unicodeExternalBaseUrl:n.getUnicodeExternalBaseUrl(),publicBaseUrl:n.getPublicBaseUrl(),currentUrl:n.currentUrl,currentUrlPageId:i,isFeedbackEndpoint:n.isFeedbackEndpoint(),isSiteHistoryEndpoint:n.isSiteHistoryEndpoint(),isViewerMode:n.isViewerMode(),isWixSite:n.isWixSite(),languageCode:n.getLanguageCode(),isTemplate:n.isTemplate(),isUsingSlashUrlFormat:n.isUsingUrlFormat(t.siteConstants.URL_FORMATS.SLASH),isPremiumDomain:n.isPremiumDomain(),allPageIds:n.getAllPageIds(),routersConfigMap:e.get(n,"routers.configMap"),cookie:r.getRequestModel(n,"cookie"),rendererModel:{runningExperiments:r.getRendererModel(n,"runningExperiments",!0)},serviceTopology:{basePublicUrl:n.getServiceTopologyProperty("basePublicUrl"),baseDomain:n.getServiceTopologyProperty("baseDomain"),staticDocsUrl:n.getServiceTopologyProperty("staticDocsUrl")},pagesDataItemsMap:a,isPermalink:n.isPermalink,mapFromPageUriSeoToPageId:r.getMapFromPageUriSeoToPageId(n),pageResponseForUrl:n.pageResponseForUrl,rootNavigationInfo:n.getRootNavigationInfo()};return s.isResolvedSiteData=!0,s}}}),define("warmupUtils/wixUrlParser/parsers/slashUrlParser",["lodash","coreUtilsLib","warmupUtils/wixUrlParser/utils/urlParserUtils","warmupUtils/dal/siteDataUtils","warmupUtils/core/routerUtils"],function(e,t,r,n,i){"use strict";function a(r){return r.isPremiumDomain&&!function(r){var n=t.urlUtils.parseUrl(r.externalBaseUrl).host;return e.endsWith(n,"."+t.siteConstants.FREE_DOMAIN.WIXSITE)||e.endsWith(n,"."+r.serviceTopology.baseDomain)}(r)}function s(r){return"object"===("undefined"==typeof window?"undefined":_typeof(window))&&window.karmaIntegration?S.BEAKER:r.isFeedbackEndpoint?S.REVIEW:r.isSiteHistoryEndpoint?S.SITE_HISTORY:r.isViewerMode?a(r)?S.PREMIUM:r.isWixSite||function(r){var n=e.isObject(r.currentUrl)?r.currentUrl.full:t.urlUtils.parseUrl(r.currentUrl).full;return r.isTemplate&&e.startsWith(n,r.serviceTopology.basePublicUrl)}(r)?S.WIX_INTERNAL:S.FREE_SITE:S.PREVIEW}function o(r,a){var s=n.getMapFromPageUriSeoToPageId(r),o=e.get(s,a)||function(t,r){var n=e.find(t.pagesDataItemsMap,{pageUriSEO:r});return n&&n.id}(r,a)||t.errorPages.IDS.NOT_FOUND;return i.isDynamicPage(r.routersConfigMap,o)&&(o=t.errorPages.IDS.NOT_FOUND),o}function u(e){return e===w}function l(e,t){var r=e.pagesDataItemsMap[t];return r&&"Page"===r.type&&r.tpaApplicationId>0}function c(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppBuilderPage"===r.appPageType}function g(e,t){return function(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppPage"===r.appPageType&&r.appPageId===U}(e,t)||function(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppPage"===r.appPageType&&r.appPageId===I}(e,t)}function p(e){return e&&e.replace(/^https?:\/\//,"")}function d(e,r){var n=p(t.urlUtils.getBaseUrlWithPath(r,s(e)));return t.urlUtils.isSame(n,p(e.externalBaseUrl))||t.urlUtils.isSame(n,p(e.unicodeExternalBaseUrl))||t.urlUtils.isHostnameYandexWebvisor(n)||/^s3\.amazonaws\.com\/wix\-/.test(n)}function f(r,n){var i=e.isObject(n)?n:t.urlUtils.parseUrl(n);if(i.hostname===D&&(i=function(e){var r=e.query.q,n=/\:([^\:]+)\+$/.exec(r);return n&&n[1]&&t.urlUtils.parseUrl(n[1])||e}(i)),!d(r,i))return null;var a=function(r,n){var i=t.urlUtils.parseUrl(r.externalBaseUrl).path.replace(/\/$/,"").split("/").length;return n?e.drop(n.split("/"),i):[]}(r,i.path),s=e.head(a),g=e.drop(a,1),p={format:t.siteConstants.URL_FORMATS.SLASH},f=function(t,r){if(r){var n=e.find(t.routersConfigMap,{prefix:r});if(n)return e.assign(n,{routerId:e.findKey(t.routersConfigMap,{prefix:r})})}}(r,s);if(f&&(p.routerDefinition=f,p.pageAdditionalData=s+"/"+g.join("/")),p.routerDefinition){p.innerRoute=g.join("/")||"/";var h=r.pageResponseForUrl;h&&h.pageId&&(p.pageId=h.pageId,p.title=h.title)}else s?u(s)?(p.pageItemId=e.head(g),p.pageId=r.currentUrlPageId||r.mainPageId):(p.pageId=o(r,s),c(r,p.pageId)?p.title=a[2]:p.title=s):(p.pageId=r.mainPageId,p.title=m(r,p.pageId));i.query[v]&&(p.pageItemId=i.query[v],p.imageZoom=!0);var P=e.omit(i.query,y);return i.query&&!e.isEmpty(P)&&(p.queryParams=P),a.length>1&&!p.routerDefinition&&(c(r,p.pageId)?p.pageAdditionalData=e.head(g):u(s)?p.pageAdditionalData=e.drop(g,1).join("/"):l(r,p.pageId)?p.tpaInnerRoute=function(t){return e.map(t,decodeURIComponent)}(g).join("/"):p.pageAdditionalData=g.join("/")),p}function m(r,n){var i=r.pagesDataItemsMap[n];return e.get(i,"pageUriSEO")||t.siteConstants.DEFAULT_PAGE_URI_SEO}function h(e){return e.routerId||e.routerDefinition}function P(r,n,i,a,s,o){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],p=function(t){return e.omit(t.currentUrl.query,y)}(r),d=e.assign({},p,n.queryParams||{}),f=e.omit(d,u),P=s||r.externalBaseUrl;P=P.replace(/\/$/,"");var I=r.isPermalink(n.pageItemId);if(h(n)){"CURRENT_INNER_ROUTE"===n.innerRoute&&(n.innerRoute=function(t){var r=e.get(t,"rootNavigationInfo.pageAdditionalData");if(r){var n=r.split("/");return e.drop(n,1).join("/")}}(r)||n.innerRoute);P+="/"+(n.routerId?e.get(r.routersConfigMap,n.routerId+".prefix"):n.routerDefinition.prefix),n.innerRoute&&"/"!==n.innerRoute&&(P+="/"+n.innerRoute)}else n.pageId&&!I&&(n.pageId!==r.mainPageId||i||n.pageAdditionalData||n.tpaInnerRoute)&&(P+="/"+m(r,n.pageId));if(c(r,n.pageId)&&n.pageAdditionalData)P+="/"+n.pageAdditionalData+(n.title?"/"+n.title:"");else if(l(r,n.pageId)&&n.tpaInnerRoute&&!h(n))P+="/"+function(t){return e.map(t,encodeURIComponent)}(n.tpaInnerRoute.split("/")).join("/");else if(g(r,n.pageId)&&n.pageAdditionalData){var U=o&&o.getCustomUrlMapping?o.getCustomUrlMapping():void 0,S=e.findKey(U,{id:n.pageAdditionalData});P+=S?"/"+S:"/"+n.pageAdditionalData}return n.pageItemId&&(I?n.pageAdditionalData&&(P+="/"+w+"/"+n.pageItemId+"/"+n.pageAdditionalData):n.imageZoom&&(f[v]=n.pageItemId)),a||e.isEmpty(f)||r.currentUrl.hostname===D||(P+="?"+t.urlUtils.toQueryString(f)),P}var v="lightbox",y=[v],I="7326bfbb-4b10-4a8e-84c1-73f776051e10",U="79f391eb-7dfc-4adf-be6e-64434c4838d9",w="_p",S={PREVIEW:7,SITE_HISTORY:8,WIX_INTERNAL:2,FREE_SITE:1,PREMIUM:0,REVIEW:3,BEAKER:3},D="webcache.googleusercontent.com";return{parseUrl:function(e,t){return f(r.getResolvedSiteData(e),t)},getUrl:function(e,t,n,i,a,s,o,u){return P(r.getResolvedSiteData(e),t,n,i,a,o,u)},isUrlToCurrentSite:function(e,n){var i=t.urlUtils.parseUrl(n);return d(r.getResolvedSiteData(e),i)}}}),define("warmupUtils/wixUrlParser/parsers/hashBangUrlParser",["coreUtilsLib","lodash","warmupUtils/wixUrlParser/utils/urlParserUtils","warmupUtils/log/log"],function(e,t,r,n){"use strict";function i(t){var r=void 0;return"string"==typeof t?r=e.urlUtils.parseUrl(t):t.full?r=t:n.nativeConsoleLog.error("url to parse has to be either a string or an object"),r}function a(e,r){var n={},i=e.match(/#!(.*?)\/zoom[\/\|](.+?)\/([^\/]+)$/i);if(!i){var a=e.match(/#!(.*?)[\/\|]([^\/]+)\/?(.*$)/i);if(a){var s=a[1],o=a[2],u=a[3];return s&&(n.title=s),!function(e,r){return t.includes(e.allPageIds,r)}(r,o)?(n.pageId=r.primaryPageId||r.mainPageId,n.pageItemId=o):n.pageId=o,u&&(n.tpaInnerRoute=u,n.pageAdditionalData=u),n}return{pageId:r.mainPageId}}return i[1]&&(n.title=i[1]),n.pageId=i[2],n.pageItemId=i[3],n.imageZoom=!0,n}function s(r,n){if(!n)return null;var s=i("#"===n?r.currentUrl:n),o="localhost"===s.hostname;return function(t,r){return!(e.urlUtils.isHostnameYandexWebvisor(r.hostname)||u(t,r))}(r,s)&&!o?r.currentUrl.full!==s.full||t.includes(s.full,"#")?null:{pageId:r.mainPageId}:(t.isString(n)&&0===n.indexOf("#!")&&((s=t.clone(r.currentUrl)).hash=n),a(s.hash,r))}function o(e){return e&&e.replace(/^https?:\/\//,"")}function u(t,r){var n=r.hostname+r.path;return e.urlUtils.isSame(n,o(t.externalBaseUrl))||e.urlUtils.isSame(n,o(t.unicodeExternalBaseUrl))}function l(r,n,i,a,s,o,u){var l={title:n.title||e.siteConstants.DEFAULT_PAGE_URI_SEO,queryParams:n.queryParams};if(n.pageItemId&&!n.pageAdditionalData&&n.imageZoom?(l.id="zoom",l.additionalData=n.pageId+"/"+n.pageItemId):(n.pageId!==r.mainPageId||n.pageAdditionalData||n.tpaInnerRoute||i)&&(l.id=n.pageItemId||n.pageId,l.additionalData=n.tpaInnerRoute||n.pageAdditionalData),function(e,t){var r=e.pagesDataItemsMap[t];return r&&"AppPage"===r.type&&"AppPage"===r.appPageType&&r.appPageId===c}(r,n.pageId)&&o){var g=n.pageAdditionalData||"",p=o[g]||o[decodeURIComponent(g)]||{};l.id=n.pageId,l.title=p.title,l.additionalData=p.id}return function(r,n,i,a,s){var o=r.currentUrl,u=a||r.externalBaseUrl;s=s||[],u=u.replace("."+e.siteConstants.FREE_DOMAIN.WIXSITE+"/","."+e.siteConstants.FREE_DOMAIN.WIX+"/");var l=t.assign({},o.query,n.queryParams||{}),c=t.omit(l,s);return i||t.isEmpty(c)||(u+="?"+e.urlUtils.toQueryString(c)),o.url=u,n.id&&(u+="#!"+n.title+"/"+n.id),n.additionalData&&(u+="/"+n.additionalData),u}(r,l,a,s,u)}var c="7326bfbb-4b10-4a8e-84c1-73f776051e10";return{parseUrl:function(e,t){return s(r.getResolvedSiteData(e),t)},getUrl:function(e,t,n,i,a,s,o,u){return l(r.getResolvedSiteData(e),t,n,i,a,s,u)},isUrlToCurrentSite:function(t,n){if("#"===n)return!0;var i=e.urlUtils.parseUrl(n);return u(r.getResolvedSiteData(t),i)}}}),define("warmupUtils/wixUrlParser/wixUrlParser",["lodash","coreUtilsLib","warmupUtils/wixUrlParser/parsers/slashUrlParser","warmupUtils/wixUrlParser/parsers/hashBangUrlParser","warmupUtils/wixUrlParser/utils/urlParserUtils"],function(e,t,r,n,i){"use strict";function a(r,n){var i=e.isObject(n)?n:t.urlUtils.parseUrl(n);return!t.stringUtils.startsWith(i.hash,"#!")&&r.isUsingSlashUrlFormat}function s(e,t){var o=i.getResolvedSiteData(e);return!t||function(e,t){return t===e.replace(/\/$/,"")+"/app"}(o.externalBaseUrl,t)?null:"#"===t?s(o,o.currentUrl.full):a(o,t)?r.parseUrl(o,t):n.parseUrl(o,t)}function o(e,t,r,n,a,s,o){var u=i.getResolvedSiteData(e);return function(e,t){return l[t||e.urlFormat]||l[e.urlFormat]}(u,t.format).getUrl(u,t,r,n,a,s,e,o)}function u(e,t){if(function(e,t){var s=i.getResolvedSiteData(e);return a(s,t)?r.isUrlToCurrentSite(s,t):n.isUrlToCurrentSite(s,t)}(e,t)){var s=e.currentUrl.protocol;return t.replace(/^https?:/,s)}return t}var l={slash:r,hashBang:n};return{getUrl:o,parseUrl:s,utils:i,normalizeProtocolForSameSite:u}}),define("warmupUtils/core/languages",[],function(){"use strict";return["de","en","es","fr","it","ja","ko","pl","ru","nl","tr","sv","pt","no","da","hi","zh","cs","th"]}),define("warmupUtils/core/wixUserApi",["lodash","warmupUtils/core/languages","warmupUtils/dal/siteDataUtils","coreUtilsLib"],function(e,t,r,n){"use strict";function i(e){var t=a.parseCookieString(e)[o];if(t){var r=t.split("|");return{userName:r[0],email:r[1],mailStatus:r[2],permissions:r[3],isSessionNew:r[4],isSessionValid:r[5],userID:r[6]}}return null}var a=n.cookieUtils,s="wixLanguage",o="wixClient";return{getUsername:function(e){var t=i(r.getRequestModel(e,"cookie"));return t?t.userName:null},getLanguage:function(r,n,i){var o=function(e){return a.parseCookieString(e)[s]}(r||""),u=n.query&&n.query.lang||function(){var e=n.host.split(".");return 2===e[0].length?e[0]:null}()||o||("undefined"==typeof window||void 0===window.navigator?null:(window.navigator.languages?window.navigator.languages[0]:null)||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)||i;return u&&(u=u.substring(0,2).toLowerCase()),e.includes(t,u)?u:"en"},isSessionValid:function(e){return!!i(e)},logout:function(e){var t=window.document?window.document.location.host:"";t=t.substring(t.indexOf(".")+1),a.deleteCookie(o,t),"undefined"!=typeof document&&(e.requestModel.cookie=window.document.cookie)},getLanguages:function(){return t}}}),define("warmupUtils/core/coreTpaUtils",[],function(){"use strict";return{isTpaByAppType:function(e){return!("wixapps"===e||"appbuilder"===e)}}}),define("warmupUtils",["lodash","warmupUtils/core/ajaxLibrary","warmupUtils/core/scrollAnchorsUtils","warmupUtils/core/multilingual","warmupUtils/core/displayedOnlyStructureUtil","warmupUtils/pointers/pointers","warmupUtils/core/constants","warmupUtils/core/SiteDataPrivates","warmupUtils/dal/siteDataUtils","warmupUtils/dal/DALFactory","warmupUtils/core/SessionFreezer","warmupUtils/core/routerUtils","warmupUtils/core/pathValidationUtil","coreUtilsLib","warmupUtils/core/renderUtils","warmupUtils/loggingUtils/loggingUtils","warmupUtils/log/log","warmupUtils/wixUrlParser/wixUrlParser","warmupUtils/core/languages","warmupUtils/core/wixUserApi","warmupUtils/core/coreTpaUtils","imageClientLib"],function(e,t,r,n,i,a,s,o,u,l,c,g,p,d,f,m,h,P,v,y,I,U){"use strict";U.populateGlobalFeatureSupport();return{displayedOnlyStructureUtil:i,renderDoneMixin:d.renderDoneMixin,htmlTransformer:d.htmlTransformer,textSecurityFixer:d.textSecurityFixer,htmlParser:d.htmlParser,throttleUtils:d.throttleUtils,keyboardUtils:d.keyboardUtils,classNames:d.classNames,cookieUtils:d.cookieUtils,tween:d.tween,urlUtils:d.urlUtils,Store:d.StoreNew,mobileViewportFixer:d.mobileViewportFixer,dataUtils:d.dataUtils,dateTimeUtils:d.dateTimeUtils,validationUtils:d.validationUtils,ajaxLibrary:t,cssUtils:d.cssUtils,hashUtils:d.hashUtils,guidUtils:d.guidUtils,arrayUtils:d.arrayUtils,stringUtils:d.stringUtils,mediaZoomCalculations:d.mediaZoomCalculations,objectUtils:d.objectUtils,animationFrame:d.animationFrame,scrollAnchors:r,domMeasurements:d.domMeasurements,storage:d.storage,style:d.style,galleriesCommonLayout:d.galleriesCommonLayout,requestsUtil:d.requestsUtil,boundingLayout:d.boundingLayout,verticalMenuCalculations:d.verticalMenuCalculations,nonPageItemZoom:d.nonPageItemZoom,appPartMediaInnerViewNameUtils:d.appPartMediaInnerViewNameUtils,reactComponentUtils:d.reactComponentUtils,dockUtils:d.dockUtils,viewportUtils:d.viewportUtils,containerBackgroundUtils:d.containerBackgroundUtils,math:d.math,functionUtils:d.functionUtils,mediaConsts:d.mediaConsts,balataConsts:d.mediaConsts.balataConsts,blogAppPartNames:d.blogAppPartNames,siteConstants:d.siteConstants,textPatternRecognizer:d.textPatternRecognizer,errorPages:d.errorPages,logWixCodeConsoleMessage:d.logWixCodeConsoleMessage,logWixCodeConsoleError:d.logWixCodeConsoleError,matrix:{calculations:d.matrix.calculations,scalingCalculations:d.matrix.scalingCalculations},fragment:d.fragment,dynamicPagesUtils:d.dynamicPagesUtils,Screenfull:d.Screenfull,SimpleDrag:d.SimpleDrag,setMobxDataHandlers:function(t,r){l.setMobxDataHandlers(t,r),p.setMobxDataHandlers(t,e.pick(r,"getObservableByPath"))},pointers:a,constants:s,SiteDataPrivates:o,siteDataUtils:u,sessionFreezer:c,DALFactory:l,routerUtils:g,vectorImageConversionUtils:d.vectorImageConversionUtils,renderUtils:f,appManifest:d.appManifest,imageClientApi:U,loggingUtils:m,multilingual:n,biLoggerSanitizer:d.biLoggerSanitizer,log:h.nativeConsoleLog,wixUrlParser:P,languages:v,wixUserApi:y,coreTpaUtils:I}});
//# sourceMappingURL=warmupUtils.min.js.map